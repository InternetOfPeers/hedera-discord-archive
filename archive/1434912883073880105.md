# Issue with Docker image variables in local network setup (Hashgraph Developer Course Module 5)

Original conversation link: <https://discord.com/channels/373889138199494658/1434912883073880105/1434912883073880105>

## Message 1434912883073880105

By @najuna.brian (najuna.brian#0 1425226267271233636)
at *2025-11-03 14:31:30.717 UTC*
**MODIFIED** last time at *2025-11-03 21:23:18.563 UTC*

```txt
Hi @Phasmatis (phasmatis#0 255000116388167680) 
Iâ€™m following the **Hashgraph Developer Course**, currently on **Module 5: Local Network Setup (Lab 5)**, and Iâ€™m setting up the local network using Docker Compose.

**First issue (solved):**
When I first ran docker-compose up, I got this error:
`services.relay-ws.environment.SUBSCRIPTIONS_ENABLED contains true, which is an invalid type`
I learned that Docker Compose requires environment variable values to be strings.
**Fix**: In docker-compose.yml, change: `SUBSCRIPTIONS_ENABLED: true`  to `SUBSCRIPTIONS_ENABLED: "true"`
After that, the service started without this validation error.

**Current issue:**
Now, when I run `docker-compose up -d`, I get:
`ERROR: invalid reference format`

I checked the images with **docker-compose config | grep "image:"** and noticed some still have unexpanded variables like:
`image: gcr.io/mirrornode/hedera-mirror-grpc:$${MIRROR_IMAGE_TAG}`
Has anyone run into this issue before, or can point me to how to make these variables expand correctly in Docker Compose v2?

Thanks so much for any guidance ðŸ˜Š
```

## Message 1435149671138857012

By @najuna.brian (najuna.brian#0 1425226267271233636)
at *2025-11-04 06:12:25.391 UTC*
**MODIFIED** last time at *2025-11-04 06:13:03.884 UTC*

```txt
Thanks everyone! I managed to fix the Docker Compose setup.
Hereâ€™s what worked for me:

The .env file had Windows-style line endings, which prevented some variables (like MIRROR_IMAGE_TAG) from expanding correctly. I fixed it by running: 
`sudo apt install dos2unix
dos2unix .env`

Removed old Docker networks that had mismatched labels:
`docker network rm hedera-mirror-node
docker network rm hedera-cloud-storage
docker network rm hedera-network-node
`
Then started everything cleanly:
`docker compose up -d --build`

After that, all containers started successfully
```
